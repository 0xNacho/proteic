"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},utils=utils||{isArray:function(e){return e&&e.constructor===Array&&e instanceof Array},isObject:function(e){return e&&e.constructor===Object&&e instanceof Object},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isEven:function(e){return e%2==0},isPercentage:function(e){var t=null,n=null;return!(!e||"string"!=typeof e)&&(t=e.split("%"),n=+t[0],2===t.length&&n>=0&&n<=100)},keys:function e(t,n){var e=new Set,r=null;if(!t||!t.length)return[];for(var a=0;a<t.length;a++)r=n?t[a][n]:t[a],r&&e.add(r);return e},getNumberOfDifferentArrayKeys:function(e,t){var n=[],r=null;if(!e||!e.length)return 0;for(var a=0;a<e.length;a++)r=t?e[a][t]:e[a],r&&n.push(r);return d3.set(n).size()},sortBy:function(e,t){var n=Object.prototype.toString,r=function(e){return e},a=function(e){return r(null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e[t.prop]||e)};return e instanceof Array&&e.length?("[object Object]"!==n.call(t)&&(t={}),"function"!=typeof t.parser&&(t.parser=r),t.desc=t.desc?-1:1,e.sort(function(e,n){return e=a.call(t,e),n=a.call(t,n),t.desc*(e<n?-1:+(e>n))})):[]},findElement:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r][t]===n)return e[r];return null},deg2rad:function(e){return e*Math.PI/180}},utils=utils||{},doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';!function(){function e(e){return e&&0===e.lastIndexOf("http",0)&&e.lastIndexOf(window.location.host)===-1}function t(t,n){var r=t.querySelectorAll("image"),a=r.length;0===a&&n();for(var i=0;i<r.length;i++)!function(t){var r=t.getAttribute("xlink:href");if(r&&e(r.value))return void console.warn("Cannot render embedded images linking to external hosts: "+r.value);var i=document.createElement("canvas"),o=i.getContext("2d"),s=new Image;r=r||t.getAttribute("href"),s.src=r,s.onload=function(){i.width=s.width,i.height=s.height,o.drawImage(s,0,0),t.setAttribute("xlink:href",i.toDataURL("image/png")),a--,0===a&&n()},s.onerror=function(){console.error("Could not load "+r),a--,0===a&&n()}}(r[i])}function n(t,n){for(var r="",a=document.styleSheets,i=0;i<a.length;i++)if(e(a[i].href))console.warn("Cannot include styles from other hosts: "+a[i].href);else{var o=a[i].cssRules;if(null!==o)for(var s=0;s<o.length;s++){var c=o[s];if("undefined"!=typeof c.style){var l=null;try{l=t.querySelector(c.selectorText)}catch(u){console.warn('Invalid CSS selector "'+c.selectorText+'"',u)}if(l){var f=n?n(c.selectorText):c.selectorText;r+=f+" { "+c.style.cssText+" }\n"}else c.cssText.match(/^@font-face/)&&(r+=c.cssText+"\n")}}}return r}utils.svgAsDataUri=function(e,r,a){r=r||{},r.scale=r.scale||1;var i="http://www.w3.org/2000/xmlns/";t(e,function(){var t,o,s=document.createElement("div"),c=e.cloneNode(!0);if("svg"===e.tagName)t=parseInt(c.getAttribute("width")||c.style.width||getComputedStyle(e).getPropertyValue("width")),o=parseInt(c.getAttribute("height")||c.style.height||getComputedStyle(e).getPropertyValue("height"));else{var l=e.getBBox();t=l.x+l.width,o=l.y+l.height,c.setAttribute("transform",c.getAttribute("transform").replace(/translate\(.*?\)/,""));var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.appendChild(c),c=u}c.setAttribute("version","1.1"),c.setAttributeNS(i,"xmlns","http://www.w3.org/2000/svg"),c.setAttributeNS(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),c.setAttribute("width",t*r.scale),c.setAttribute("height",o*r.scale),c.setAttribute("viewBox","0 0 "+t+" "+o),s.appendChild(c);var f=n(e,r.selectorRemap),h=document.createElement("style");h.setAttribute("type","text/css"),h.innerHTML="<![CDATA[\n"+f+"\n]]>";var d=document.createElement("defs");d.appendChild(h),c.insertBefore(d,c.firstChild);var u=doctype+s.innerHTML,p="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(u)));a&&a(p)})}}();var strategies={Barchart:function(e){return new SvgBarchartStrategy(e)},Linechart:function(e){return new SvgLinechartStrategy(e)},Streamgraph:function(e){return new SvgStreamgraphStrategy(e)},Gauge:function(e){return new SvgGaugeStrategy(e)},Sunburst:function(e){return new SvgSunburstStrategy(e)},Swimlane:function(e){return new SvgSwimlaneStrategy(e)},StackedArea:function(e){return new SvgStackedAreaStrategy(e)}},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),paletteCategory1=["#e1c8df","#9ecd9d","#acd9d6","#e4e36b","#bfa1c5","#e4d3b8","#facba8","#ced4ea","#acd9d6"],paletteCategory2=["#b6dde2","#6394af","#e4e9ab","#8ea876","#f7dce1","#cc878f","#fadaac","#f29a83","#8d7e9e"],paletteCategory3=["#6b68a9","#8cc590","#b9487d","#bfa1c5","#4e6936","#71bbc3","#484156","#ccaf44","#d0553c"],paletteCategory4=["#f1a30d","#1d4763","#84c7bc","#c1212d","#8fbe46","#076837","#563a2d","#563a2d","#87325d"],paletteCategory5=["#f1a30d","#0c3183","#acd9d6","#c1212d","#8fbe46","#076837","#8a6338","#8d2d84","#f09bbc"],paletteCategory6=["#71bbc3","#1d4763","#8fbe46","#4e6936","#ee8998","#c1212d","#f5af3c","#e95e2e","#634484"],paletteCategory7=["#ea671e","#684592","#84b92a","#cd131c","#3c5ba2","#5baddc","#ffde06","#5db68b","#775e47"],paletteCategory8=["#ebd646","#a50f38","#00a096","#f09bbc","#065b78","#72722a","#005231","#4d4e98","#7c4d25"],paletteSequentialYellow=["#fff1c6","#fee5a7","#fcda87","#face64","#f8bf4b","#f6b030","#f4a009","#d28514","#b36c17","#955618","#7a4317","#613214","#49230f"],paletteSequentialRedOrange=["#ffecb8","#fbd68b","#f7bf5e","#f3a82f","#df7520","#cd4925","#be0a26","#a81023","#941320","#80141d","#6d1419","#5a1215","#470f0f"],paletteSequentialRed=["#fde4d4","#f1c4af","#f7bf5e","#db826a","#d0614d","#c73e36","#be0a26","#a81023","#941320","#80141d","#6d1419","#5a1215","#470f0f"],paletteSequentialPink=["#fbe3e3","#f9cfcc","#f0aaa9","#ed7e7e","#ea647b","#e74576","#e41270","#c70f65","#aa105c","#8d1253","#731448","#5a123c","#420e30"],paletteSequentialPurplePink=["#f9d8e6","#ebbed7","#dda4c7","#c890bb","#b27daf","#8a4c94","#622181","#622181","#50216b","#472060","#3e1f55","#361e4b","#2d1c41"],paletteSequentialPurple=["#f6e8f1","#dcc5de","#c2a3c9","#a980b3","#905e9f","#793f8e","#622181","#592175","#4f216b","#462060","#3d1f55","#351e4b","#2c1c41"],paletteSequentialBlue=["#e5f2f9","#d1e5f5","#afd3ed","#91afd7","#738bbf","#3c5a9e","#0c3183","#132a68","#10204c","#0b193b","#06142f","#051228","#061020"],paletteSequentialLightBlue=["#eff8fd","#d9eff6","#c2e5ef","#a8dae8","#90cbe4","#76b8e1","#5baddc","#4d96cc","#427ebc","#3a67ab","#324c88","#29366b","#1e2354"],paletteSequentialBlueViolet=["#edf7e7","#c8e3d2","#91cdbf","#41b5ab","#218ba4","#145d94","#0c3183","#0d2d76","#0d2a6a","#0e265e","#0d2253","#0c1e47","#0b1a3c"],paletteSequentialTurquoise=["#e2ecf6","#cadfe6","#b1d3d6","#94c6c6","#74b9b6","#4caca6","#00a096","#008d89","#007b7c","#006a6f","#005963","#004a57","#063b4c"],paletteSequentialLightGreen=["#faf9de","#e9efc3","#d7e4a7","#c5d989","#b1ce6a","#9cc34c","#84b92a","#6fa32b","#5a8f2a","#477c29","#346b27","#205b24","#074d21"],paletteSequentialDarkGreen=["#eaf3e5","#c7d5be","#a3ba9a","#80a078","#5c885a","#357442","#00632e","#00592b","#004e27","#004423","#033a1e","#053019","#052613"],paletteSequentialGreenBrown=["#f7eccd","#d9cba6","#bcad82","#a29162","#887946","#716330","#5b501f","#51461d","#483d1b","#3f3418","#362b15","#2d2311","#231a0d"],paletteSequentialBrown=["#f7eccd","#eed3ab","#e4bb89","#dba269","#ad7446","#834d2c","#5e2f19","#552a18","#4c2516","#432113","#3a1c11","#32180f","#29130b"],paletteSequentialGrey=["#e5e8ea","#bdbfc3","#999a9f","#77797f","#595c64","#3e444c","#253038","#20282e","#1a2024","#15181b","#0e1112","#070808","#000000"],paletteSequentialVioletCb=["#f4f3f9","#e0dced","#cbc6e0","#b7b0d4","#948cbf","#706baa","#4d4e98","#484889","#42427a","#3d3c6c","#37365e","#313050","#2c2a44"],paletteSequentialPinkCb=["#fbe5ee","#f8ccd5","#f4b2bc","#f096a3","#d56976","#bc3f52","#a50f38","#951735","#851b31","#761d2e","#671e2a","#581d26","#4a1c22"],paletteSequentialBlueCb=["#eaf6fc","#cfe4f4","#cfe4f4","#91bfe3","#6999bb","#417797","#065b78","#11536b","#174b5f","#194354","#1a3b49","#1a343f","#192d35"],paletteSequentialGreenCb=["#fff7d0","#e9e09b","#d1ca62","#b7b623","#9e9e28","#88872a","#72722a","#676726","#5c5c23","#51511f","#47471b","#3d3d17","#333413"],paletteSequentialGreenBrownCb=["#f2edde","#d8d1c0","#bfb699","#a09778","#837b5a","#686141","#4f4b2c","#3e3e1f","#2e3313","#292d14","#232613","#1e2012","#191a10"],paletteDivergingSpectral1=["#98141f","#ab332c","#bf5040","#d5705b","#e4a57f","#f3d6a6","#f5f2b8","#cfdbb1","#a4c4a9","#71ada1","#4e868f","#2e637d","#06456c"],paletteDivergingSpectral2=["#d43d4f","#df564b","#eb6d45","#f08e53","#f8b96f","#fee08b","#f5f2b8","#d7e5b1","#b5d7aa","#8ec8a3","#6abda3","#4fa4b5","#3489be"],paletteDivergingSpectral3=["#651035","#ae1143","#c9314b","#dd7257","#eeb27a","#feeb9e","#f5f2b8","#cadfba","#96cabb","#50b4bb","#3eaecc","#206791","#0c2c63"],paletteDivergingBrownTurquoise=["#3f3128","#683828","#933624","#d5705b","#db9c5e","#feeb9e","#f5f2b8","#cfdbb1","#a4c4a9","#71ada1","#628f85","#53746d","#475b57"],paletteDivergingOrangePink=["#e7511e","#eb6929","#ee7f37","#f29446","#f9c083","#ffe9c3","#ffeee3","#f9cfc1","#f3a9ab","#db6882","#c71360","#891953","#4b1c47"],paletteDivergingRedBlue=["#b2172b","#c4443e","#d76a5a","#ed937e","#f4b8a2","#fcdbc7","#efefef","#bfcad5","#8ba7bc","#4d87a5","#3c7ca0","#28729b","#036896"],paletteDivergingRedGrey=["#b2172b","#c54532","#da6c3b","#f29446","#f8bc67","#fee08b","#efece5","#c9c5c1","#a5a19f","#808080","#666666","#333333","#000000"],paletteDivergingOrangeViolet=["#98141f","#ab332c","#f9bc47","#fdcf66","#fede8d","#ffecb3","#f9eff6","#e8d0e3","#a4c4a9","#a973aa","#834f96","#622181","#402357"],paletteDivergingPurpleGreen=["#59194b","#85134b","#c71360","#db6882","#eba7a8","#fce0ca","#faefe1","#dbd9aa","#b9c26e","#94ad31","#728b2b","#546c25","#39521f"],paletteDivergingVioletGreen=["#55296e","#75408e","#8a5fa0","#a081b5","#beadcf","#ddd7e7","#eae8ed","#c1d4bc","#93be86","#58a951","#3c853e","#23662f","#084a22"],paletteDivergingRedGreen=["#b2172b","#c5403c","#d96453","#ef8972","#f6b49c","#fcdbc7","#f9ebde","#dad6a8","#b9c16d","#94ad31","#728b2b","#546c25","#39521f"],paletteDivergingBrownGreen=["#735146","#846454","#977a65","#aa9177","#c2ad91","#dbcaad","#edebd6","#c4d6aa","#94bf7c","#58a951","#3c853e","#23662f","#084a22"],paletteDivergingLightBrownTurquoise=["#8b5219","#a46821","#bf812c","#cfa151","#e2c489","#f6e8c3","#f5f1df","#cbdccc","#9cc6b9","#60afa6","#359790","#1d7d75","#00665e"],Colors=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"category1",value:function(){return d3.scaleOrdinal().range(paletteCategory1)}},{key:"category2",value:function(){return d3.scaleOrdinal().range(paletteCategory2)}},{key:"category3",value:function(){return d3.scaleOrdinal().range(paletteCategory3)}},{key:"category4",value:function(){return d3.scaleOrdinal().range(paletteCategory4)}},{key:"category5",value:function(){return d3.scaleOrdinal().range(paletteCategory5)}},{key:"category6",value:function(){return d3.scaleOrdinal().range(paletteCategory6)}},{key:"category7",value:function(){return d3.scaleOrdinal().range(paletteCategory7)}},{key:"category8",value:function(){return d3.scaleOrdinal().range(paletteCategory8)}},{key:"sequentialYellow",value:function(){return d3.scaleQuantile().range(paletteSequentialYellow)}},{key:"sequentialRedOrange",value:function(){return d3.scaleQuantile().range(paletteSequentialRedOrange)}},{key:"sequentialRed",value:function(){return d3.scaleQuantile().range(paletteSequentialRed)}},{key:"sequentialPink",value:function(){return d3.scaleQuantile().range(paletteSequentialPink)}},{key:"sequentialPurplePink",value:function(){return d3.scaleQuantile().range(paletteSequentialPurplePink)}},{key:"sequentialPurple",value:function(){return d3.scaleQuantile().range(paletteSequentialPurple)}},{key:"sequentialBlue",value:function(){return d3.scaleQuantile().range(paletteSequentialBlue)}},{key:"sequentialLightBlue",value:function(){return d3.scaleQuantile().range(paletteSequentialLightBlue)}},{key:"sequentialBlueViolet",value:function(){return d3.scaleQuantile().range(paletteSequentialBlueViolet)}},{key:"sequentialTurquoise",value:function(){return d3.scaleQuantile().range(paletteSequentialTurquoise)}},{key:"sequentialLightGreen",value:function(){return d3.scaleQuantile().range(paletteSequentialLightGreen)}},{key:"sequentialDarkGreen",value:function(){return d3.scaleQuantile().range(paletteSequentialDarkGreen)}},{key:"sequentialGreenBrown",value:function(){return d3.scaleQuantile().range(paletteSequentialGreenBrown)}},{key:"sequentialBrown",value:function(){return d3.scaleQuantile().range(paletteSequentialBrown)}},{key:"sequentialGrey",value:function(){return d3.scaleQuantile().range(paletteSequentialGrey)}},{key:"sequentialVioletCb",value:function(){return d3.scaleQuantile().range(paletteSequentialVioletCb)}},{key:"sequentialPinkCb",value:function(){return d3.scaleQuantile().range(paletteSequentialPinkCb)}},{key:"sequentialBlueCb",value:function(){return d3.scaleQuantile().range(paletteSequentialBlueCb)}},{key:"sequentialGreenCb",value:function(){return d3.scaleQuantile().range(paletteSequentialGreenCb)}},{key:"sequentialGreenBrownCb",value:function(){return d3.scaleQuantile().range(paletteSequentialGreenBrownCb)}},{key:"diverging_spectral1",value:function(){return d3.scaleQuantile().range(paletteDivergingSpectral1)}},{key:"diverging_spectral2",value:function(){return d3.scaleQuantile().range(paletteDivergingSpectral2)}},{key:"diverging_spectral3",value:function(){return d3.scaleQuantile().range(paletteDivergingSpectral3)}},{key:"diverging_brown_turquoise",value:function(){return d3.scaleQuantile().range(paletteDivergingBrownTurquoise)}},{key:"diverging_orange_pink",value:function(){return d3.scaleQuantile().range(paletteDivergingBrownTurquoise)}},{key:"diverging_red_blue",value:function(){return d3.scaleQuantile().range(paletteDivergingRedBlue)}},{key:"diverging_red_grey",value:function(){return d3.scaleQuantile().range(paletteDivergingRedGrey)}},{key:"diverging_orange_violet",value:function(){return d3.scaleQuantile().range(paletteDivergingOrangeViolet)}},{key:"diverging_purple_green",value:function(){return d3.scaleQuantile().range(paletteDivergingPurpleGreen)}},{key:"diverging_violet_green",value:function(){return d3.scaleQuantile().range(paletteDivergingVioletGreen)}},{key:"diverging_red_green",value:function(){return d3.scaleQuantile().range(paletteDivergingRedGreen)}},{key:"diverging_brown_green",value:function(){return d3.scaleQuantile().range(paletteDivergingBrownGreen)}},{key:"diverging_lightBrown_turquoise",value:function(){return d3.scaleQuantile().range(paletteDivergingLightBrownTurquoise)}}]),e}(),_default=_default||{};_default.Barchart={stacked:!0,style:{".axis":{font:"10px sans-serif"},".axis path,.axis line":{fill:"none",stroke:"#000","shape-rendering":"crispEdges"},".x.axis path":{display:"none"},".x.axis.label, .y.axis.label":{font:"12px sans-serif"}},xaxis:{label:""},yaxis:{label:"Y"},colorScale:Colors.category7(),margin:{top:20,right:20,bottom:30,left:50},width:"100%",height:350,ticks:5,tooltip:function(e){return"<b>Eje x</b>: "+e.x+"<br/><b>Eje y</b>: "+e.y},tickLabel:"",selector:"#chart",events:{down:function(){d3.select(this).classed("hover",!1)},over:function(){d3.select(this).transition().duration(150).attr("fill-opacity",.4)},leave:function(){d3.select(this).transition().duration(150).attr("fill-opacity",1)},click:function(e,t){console.log(e,t)}},transitionDuration:300,maxNumberOfElements:0,sortData:{descending:!1,prop:"x"}};var _default=_default||{};_default.Gauge={selector:"#chart",colorScale:Colors.diverging_red_blue(),invertColorScale:!0,minLevel:0,maxLevel:100,minAngle:-90,maxAngle:90,ringWidth:50,ringMargin:20,labelInset:10,needleNutRadius:25,needleLenghtRatio:.8,numericIndicator:!0,xaxis:{label:"X"},yaxis:{label:"Y"},margin:{top:20,right:20,bottom:30,left:50},width:"50%",height:250,style:{".labels":{font:"18px sans-serif","text-anchor":"middle"},".text-indicator":{font:"48px sans-serif","text-anchor":"middle"},".needle":{fill:"#666666"}},ticks:10,markers:{shape:"circle",size:5,color:"#FFFCCA",outlineColor:"#537780",outlineWidth:2},tooltip:function(e){return JSON.stringify(e)},events:{down:function(){d3.select(this).classed("hover",!1)},over:function(){d3.select(this).transition().duration(50).attr("r",7)},leave:function(){d3.select(this).transition().duration(50).attr("r",5).style("stroke-width",2)},click:function(e,t){console.log(e,t)}},tickLabel:"",transitionDuration:300,maxNumberOfElements:5,sortData:{descending:!1,prop:"x"}};var _default=_default||{};_default.Linechart={selector:"#chart",xaxis:{label:"X",ticks:5},yaxis:{label:"Y",ticks:5},colorScale:Colors.category7(),area:!1,areaOpacity:.4,margin:{top:20,right:20,bottom:30,left:50},width:"100%",height:250,style:{".line":{"stroke-width":2,fill:"none"},".area":{"stroke-width":0},".axis":{font:"10px sans-serif"},".axis path,.axis line":{fill:"none",stroke:"#000","shape-rendering":"crispEdge"},".x.axis path":{display:"none"},".x.axis.label, .y.axis.label":{font:"12px sans-serif"}},markers:{shape:"circle",size:5,color:"#FFFCCA",outlineColor:"#537780",outlineWidth:2},tooltip:function(e){return JSON.stringify(e)},events:{down:function(){d3.select(this).classed("hover",!1)},over:function(){d3.select(this).transition().duration(50).attr("r",7)},leave:function(){d3.select(this).transition().duration(50).attr("r",5).style("stroke-width",2)},click:function(e,t){console.log(e,t)}},tickLabel:"",transitionDuration:300,maxNumberOfElements:100,sortData:{descending:!0,prop:"x"}};var _default=_default||{};_default.StackedArea={selector:"#chart",xDateFormat:"%m/%d/%y",colorScale:Colors.category5(),xaxis:{label:""},yaxis:{label:""},style:{".axis":{font:"10px sans-serif"},".axis path,.axis line":{fill:"none",stroke:"#000","shape-rendering":"crispEdges"},".x.axis path":{display:"none"},".x.axis.label, .y.axis.label":{font:"12px sans-serif"}},margin:{top:20,right:20,bottom:30,left:50},width:"100%",height:300,ticks:5,tooltip:function(e){return"Info: "+JSON.stringify(e)},tickLabel:"",events:{down:function(){d3.select(this).classed("hover",!1)},over:function(){d3.select(this).transition().duration(150).attr("fill-opacity",.4)},leave:function(){d3.select(this).transition().duration(150).attr("fill-opacity",1)},click:function(e,t){console.log(e,t)}},transitionDuration:300,maxNumberOfElements:0,sortData:{descending:!1,prop:"x"}};var _default=_default||{};_default.Streamgraph={selector:"#chart",xDateFormat:"%m/%d/%y",colorScale:Colors.category5(),xaxis:{label:""},yaxis:{label:""},style:{".axis":{font:"10px sans-serif"},".axis path,.axis line":{fill:"none",stroke:"#000","shape-rendering":"crispEdges"},".x.axis path":{display:"none"},".x.axis.label, .y.axis.label":{font:"12px sans-serif"}},margin:{top:20,right:20,bottom:30,left:50},width:"100%",height:300,ticks:5,tooltip:function(e){return"Info: "+JSON.stringify(e)},tickLabel:"",events:{down:function(){d3.select(this).classed("hover",!1)},over:function(){d3.select(this).transition().duration(150).attr("fill-opacity",.4)},leave:function(){d3.select(this).transition().duration(150).attr("fill-opacity",1)},click:function(e,t){console.log(e,t)}},transitionDuration:300,maxNumberOfElements:0,sortData:{descending:!1,prop:"x"}};var _default=_default||{};_default.Sunburst={selector:"#chart",colorScale:Colors.category8(),margin:{top:20,right:20,bottom:30,left:50},width:"50%",height:450,style:{".labels":{font:"18px sans-serif","text-anchor":"middle"},path:{stroke:"#fff","stroke-width":2,"shape-rendering":"crispEdge"},".infobox":{"text-anchor":"middle","alignment-baseline":"central",fill:"black"},".infobox .name":{font:"28px sans-serif"},".infobox .value":{font:"24px sans-serif",transform:"translate(0, 1.5em)"}},tooltip:function(e){return e.name+": "+e.value},events:{down:function(){d3.select(this).classed("hover",!1)},over:function(){d3.select(this).transition().duration(50).attr("r",7)},leave:function(){d3.select(this).transition().duration(50).attr("r",5).style("stroke-width",2)},click:function(e,t){console.log(e,t)}},tickLabel:"",transitionDuration:300,maxNumberOfElements:5,sortData:{descending:!1,prop:"x"}};var _default=_default||{};_default.Swimlane={selector:"#chart",margin:{top:20,right:20,bottom:30,left:50},width:"99%",height:550,events:{down:function(){},over:function(){},up:function(){},click:function(){},leave:function(){}}};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ProteusEvent=function(){function e(t){_classCallCheck(this,e),this.name=t,this.callbacks=[]}return _createClass(e,[{key:"registerCallback",value:function(e){this.callbacks.push(e)}}]),e}(),Reactor=function(){function e(){_classCallCheck(this,e),this.events={}}return _createClass(e,[{key:"registerEvent",value:function(e){var t=new ProteusEvent(e);this.events[e]=t}},{key:"dispatchEvent",value:function(e,t){this.events[e]&&this.events[e].callbacks.forEach(function(e){e(t)})}},{key:"addEventListener",value:function(e,t){this.events[e]&&this.events[e].registerCallback(t)}},{key:"removeEventListener",value:function(e){var t=this.events[e];t.callbacks=[]}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Datasource=function(){
function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"start",value:function(){console.log("Starting datasource")}},{key:"stop",value:function(){console.log("Stopping datasource")}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function t(e,n,r){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(r)},WebsocketDatasource=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n.reactors=[],n}return _inherits(t,e),_createClass(t,[{key:"configure",value:function(e){this.reactors.push(e)}},{key:"start",value:function(){var e=this;_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"start",this).call(this),this.ws=new WebSocket(this.source.endpoint),this.ws.onopen=function(t){for(var n in e.reactors){var r=e.reactors[n];r.dispatchEvent("onopen",t)}},this.ws.onerror=function(t){for(var n in e.reactors){var r=e.reactors[n];r.dispatchEvent("onerror",t)}},this.ws.onmessage=function(t){var n=JSON.parse(t.data);for(var r in e.reactors){var a=e.reactors[r];a.dispatchEvent("onmessage",n)}}}},{key:"stop",value:function(){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.ws&&this.ws.close()}}]),t}(Datasource),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SvgStrategy=function(){function e(t){_classCallCheck(this,e),this.strategy=t}return _createClass(e,[{key:"draw",value:function(e){this.strategy.draw(e)}},{key:"on",value:function(e){this.strategy.on(e)}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SvgChart=function(){function e(t){_classCallCheck(this,e);var n=this.constructor.name;if("SvgChart"===n)throw new Error(n+" is non-instanciable");this._initialized=!1,this.cType=t.cType,this._loadConfigOnContext(t.config),this.interactiveElements=null}return _createClass(e,[{key:"draw",value:function(e){this._sortData&&utils.sortBy(e,{prop:this._sortData.prop,desc:this._sortData.descending}),this._initialized||this._initialize()}},{key:"_initialize",value:function(){var e=this.config.width+this.config.margin.left+this.config.margin.right,t=this.config.height+this.config.margin.top+this.config.margin.bottom;this.svg=d3.select(this.config.selector).append("svg").attr("width",e).attr("height",t).append("g").attr("transform","translate("+this.config.margin.left+","+this.config.margin.top+")"),this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+this.config.height+")").call(this.xAxis),this.svg.append("g").attr("class","y axis").attr("stroke-dasharray","1, 2").call(this.yAxis).append("text"),this.svg.append("text").attr("text-anchor","middle").attr("class","x axis label").attr("x",this.config.width/2).attr("y",this.config.height+this.config.margin.bottom).text(this.xAxisLabel),this.svg.append("text").attr("text-anchor","middle").attr("class","y axis label").attr("transform","rotate(-90)").attr("x",-this.config.height/2).attr("y",-this.config.margin.left/1.3).text(this.yAxisLabel)}},{key:"_applyCSS",value:function(){var e=this.style,t=null;for(var n in e){t=e[n];for(var r in t)d3.selectAll(n).style(r,t[r])}}},{key:"on",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];for(var t in e){var n=e[t];this.interactiveElements.on(t+".user",n)}}},{key:"_calculateWidth",value:function(e){if("auto"===e)return d3.select(this.config.selector).node().getBoundingClientRect().width;if(utils.isNumeric(e))return e;if(utils.isPercentage(e)){var t=void 0,n=void 0;return t=d3.select(this.config.selector).node().getBoundingClientRect().width,n=e.split("%")[0],Math.round(n*t/100)}throw Error("Unknow chart width: "+e)}},{key:"_loadConfigOnContext",value:function(e){e=e||{events:{},markers:{},xaxis:{},yaxis:{}},e.events||(e.events={}),e.markers||(e.markers={}),e.xaxis||(e.xaxis={}),e.yaxis||(e.yaxis={}),e.x||(e.x={}),this.config={},this.config.cType=this.constructor.name,this.config.selector=e.selector||_default[this.cType].selector,this.config.margin=e.margin||_default[this.cType].margin,this.config.width=e.width?this._calculateWidth(e.width)-this.config.margin.left-this.config.margin.right:this._calculateWidth(_default[this.cType].width)-this.config.margin.left-this.config.margin.right,this.config.height=e.height||_default[this.cType].height,this.config.ticks=e.ticks||_default[this.cType].ticks,this.config.xticks=e.xaxis.ticks||_default[this.cType].xaxis.ticks,this.config.yticks=e.yaxis.ticks||_default[this.cType].yaxis.ticks,this.config.tickLabel=e.tickLabel||_default[this.cType].tickLabel,this.config.transitionDuration=e.transitionDuration||_default[this.cType].transitionDuration,this.config.tip=e.tooltip||_default[this.cType].tooltip,this.config.events={},this.config.events.down=e.events.down||_default[this.cType].events.down,this.config.events.up=e.events.up||_default[this.cType].events.up,this.config.events.over=e.events.over||_default[this.cType].events.over,this.config.events.click=e.events.click||_default[this.cType].events.click,this.config.events.leave=e.events.leave||_default[this.cType].events.leave,this.config._sortData=e.sortData||_default[this.cType].sortData,this.config.style=e.style||_default[this.cType].style,this.config.colorScale=e.colorScale||_default[this.cType].colorScale,this.config.xAxisLabel=e.xaxis.label||_default[this.cType].xaxis.label,this.config.yAxisLabel=e.yaxis.label||_default[this.cType].yaxis.label}},{key:"_endAllTransitions",value:function(e,t){var n;e.empty()?t():(n=e.size(),e.each("end",function(){n--,0===n&&t()}))}},{key:"_removeUserEvents",value:function(){var e=["mousedown.user","mouseup.user","mouseleave.user","mouseover.user","click.user","mouseover.tip","mouseout.tip"];for(var t in e)this.interactiveElements.on(e[t],null)}},{key:"_updateXaxis",value:function(){this.svg.select(".x.axis").transition().duration(this.transitionDuration).call(this.xAxis)}},{key:"_updateYaxis",value:function(){this.svg.select(".y.axis").transition().duration(this.transitionDuration).call(this.yAxis)}},{key:"_updateAxis",value:function(){this._updateXaxis(),this._updateYaxis()}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function n(e,t,r){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:n(i,t,r)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(r)},SvgBarchartStrategy=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.config;return n.svgContainer=new SvgContainer(r),n.axes=new XYAxes("categorical","linear",r),n.bars=new Barset(n.axes.xAxis,n.axes.yAxis),n.svgContainer.add(n.axes).add(n.bars,[new Tooltip]),n}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){e=e||this.data;var t=this.svgContainer.svg,n=this.config,r=this.config.stacked,a=this._getDataKeys(e),i=0,o=0,s=r?"stacked":"grouped";o=r?d3.max(e,function(e){return e.total}):this._calculateMaxGrouped(e),this.axes.updateDomainByKeysAndBBox(a,[i,o]),this.axes.transition(t,200),this.bars.update(t,n,e,s),this.data=e}},{key:"_calculateMaxGrouped",value:function(e){var t=-99999999;for(var n in e){var r=e[n],a=Object.keys(r);for(var i in a){var o=a[i];"total"!==o&&"key"!==o&&r[o]>t&&(t=r[o])}}return t}},{key:"_getDataKeys",value:function(e){return e.map(function(e){return e.key})}},{key:"transition2Stacked",value:function(){this.config.stacked=!0}},{key:"transition2Grouped",value:function(){this.config.stacked=!1}},{key:"_loadConfigOnContext",value:function(e){return e=e||{events:{}},e.events||(e.events={}),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_loadConfigOnContext",this).call(this,e),this.config.stacked="undefined"==typeof e.stacked?_default[this.constructor.name].stacked:e.stacked,this}}]),t}(SvgChart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function r(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:r(i,t,n)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(n)},SvgLinechartStrategy=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.config,a=r.x.type;return n.svgContainer=new SvgContainer(r),n.axes=new XYAxes(a,"linear",r),n.lines=new Lineset(n.axes.xAxis,n.axes.yAxis),n.svgContainer.add(n.axes).add(n.lines),n}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){var t=this.svgContainer.svg,n=this.config,r=n.x.type,a="linear",i=null;this._parseData(e,r,a,n),i=this._getDomainBBox(e),this.axes.updateDomainByBBox(i),this.axes.transition(t,200),this.lines.update(t,n,e)}},{key:"_parseData",value:function(e,t,n,r){e.forEach(function(e){switch(t){case"time":e.x=d3.timeParse(r.x.format)(e.x);break;case"linear":e.x=+e.x}switch(n){case"time":e.y=d3.timeFormat;break;case"linear":e.y=+e.y}})}},{key:"_getDomainBBox",value:function(e){var t=d3.min(e,function(e){return e.x}),n=d3.max(e,function(e){return e.x}),r=d3.min(e,function(e){return e.y}),a=d3.max(e,function(e){return e.y});return[t,n,r,a]}},{key:"_loadConfigOnContext",value:function(e){return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_loadConfigOnContext",this).call(this,e),this.config=this.config||{},this.config.markers={},this.config.markers.color=e.markers.color||_default.Linechart.markers.color,this.config.markers.outlineColor=e.markers.outlineColor||_default.Linechart.markers.outlineColor,this.config.markers.outlineWidth=e.markers.outlineWidth||_default.Linechart.markers.outlineWidth,this.config.markers.shape=e.markers.shape||_default.Linechart.markers.shape,this.config.markers.size=e.markers.size||_default.Linechart.markers.size,this.config.area="undefined"==typeof e.area?_default.Linechart.area:e.area,this.config.areaOpacity=e.areaOpacity||_default.Linechart.areaOpacity,this.config.x={},this.config.x.type=e.x.type||_default.Linechart.xDataType,this.config.x.format=e.x.format||_default.Linechart.xDateFormat,this.config.x.ticks=e.x.ticks,this}}]),t}(SvgChart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function i(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:i(a,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},SvgStreamgraphStrategy=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.x=d3.scaleTime().range([0,n.config.width]),n.y=d3.scaleLinear().range([n.config.height-10,0]),n.z=n.config.colorScale,n.xAxis=d3.axisBottom(n.x).ticks(d3.timeDay,1).tickFormat(d3.timeFormat("%m/%d/%y")),n.yAxis=d3.axisLeft(n.y).tickSizeInner(-n.config.width).tickSizeOuter(0).tickPadding(20).ticks(n.config.ticks,n.config.tickLabel).tickFormat(function(e){return e}),n.keys=null,n}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){var t=this,n=null;this._initialized||this._initialize(),n=d3.stack().keys(e.keys).order(d3.stackOrderInsideOut).offset(d3.stackOffsetWiggle),e.values.forEach(function(e){e.date=d3.timeParse(t.xDateformat)(e.date)});var r=n(e.values);this.x.domain(d3.extent(e.values,function(e){return e.date})),window.a=r,this.y.domain([d3.min(a,function(e){return d3.min(e,function(e){return e[0]})}),d3.max(a,function(e){return d3.max(e,function(e){return e[1]})})]);var i=d3.area().curve(d3.curveCardinal).x(function(e){return t.x(e.data.date)}).y0(function(e){return t.y(e[0])}).y1(function(e){return t.y(e[1])}),o=this.svg.selectAll(".series").data(r).enter().append("g").attr("class","series").style("stroke",function(e,n){return t.config.colorScale(n)});o.append("path").attr("class","layer").attr("d",i).style("fill",function(e,n){return t.z(n)}),o.attr("opacity",1).on("mousedown.user",this.config.events.down).on("mouseup.user",this.config.events.up).on("mouseleave.user",this.config.events.leave).on("mouseover.user",this.config.events.over).on("click.user",this.config.events.click),this._updateAxis()}},{key:"_initialize",value:function(){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this),this._initialized=!0}},{key:"_loadConfigOnContext",value:function(e){e=e||{events:{}},e.events||(e.events={}),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_loadConfigOnContext",this).call(this,e),this.colorScale=e.colorScale||_default.StackedArea.colorScale,this.xDateformat=e.xDateFormat||_default.StackedArea.xDateFormat}}]),t}(SvgChart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:o(a,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},SvgGaugeStrategy=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scale=d3.scaleLinear().domain([n.config.minLevel,n.config.maxLevel]).range([0,1]),n.angleScale=d3.scaleLinear().domain([n.config.minLevel,n.config.maxLevel]).range([90+n.config.minAngle,90+n.config.maxAngle]),n.config.colorScale.domain([0,1]),n.scaleMarks=n.scale.ticks(n.config.ticks),n.tickData=d3.range(n.config.ticks).map(function(){return 1/n.config.ticks}),n.keyFunction=function(e){return e.x},n.translation=function(){return"translate("+n.r+","+n.r+")"},n}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){var n=this,r=null;_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e),this.datum=e[e.length-1],r=this.config.needleLenghtRatio*this.r,console.log(this.config.needleNutRadius,r,this.config.needleLenghtRatio,this.r),this.needle||(this.needle=this.svg.append("path").attr("class","needle").datum(this.datum.x).attr("transform",function(e){return"translate("+n.r+", "+n.r+") rotate("+(n.angleScale(e)-90)+")"}).attr("d","M "+(0-this.config.needleNutRadius)+" 0 L 0 "+(0-r)+" L "+this.config.needleNutRadius+" 0")),this.needle.transition().attr("transform",function(e){return"translate("+n.r+", "+n.r+") rotate("+(n.angleScale(n.datum.x)-90)+")"}).attr("d","M "+(0-this.config.needleNutRadius)+" 0 L 0 "+(0-r)+" L "+this.config.needleNutRadius+" 0"),this.svg.select(".text-indicator").text(this.datum.x),this._applyCSS()}},{key:"_initialize",value:function(){var e=this,t=(this.config.width+this.config.margin.left+this.config.margin.right,this.config.height+this.config.margin.top+this.config.margin.bottom,null),n=null;this.svg=d3.select(this.config.selector).append("svg").attr("width",this.config.width).attr("height",this.config.height).append("g").attr("transform","translate("+this.config.margin.left+","+this.config.margin.top+")"),this.range=this.config.maxAngle-this.config.minAngle,this.r=(this.config.width>this.config.height?this.config.height:this.config.width)/2,this.needleLength=Math.round(this.r*this.needleLenghtRatio),this.arc=d3.arc().innerRadius(this.r-this.config.ringWidth-this.config.ringMargin).outerRadius(this.r-this.config.ringMargin).startAngle(function(t,n){var r=t*n;return utils.deg2rad(e.config.minAngle+r*e.range)}).endAngle(function(t,n){var r=t*(n+1);return utils.deg2rad(e.config.minAngle+r*e.range)}),n=this.svg.append("g").attr("class","arc").attr("transform",this.translation);var r=n.selectAll("path").data(this.tickData).enter().append("path").attr("id",function(e,t){return"sector-"+t}).attr("d",this.arc);this.config.invertColorScale?r.attr("fill",function(t,n){return e.config.colorScale(1-t*n)}):r.attr("fill",function(t,n){return e.config.colorScale(t*n)}),t=this.svg.append("g").attr("class","labels").attr("transform",this.translation),t.selectAll("text").data(this.scaleMarks).enter().append("text").attr("transform",function(t){var n=e.scale(t),r=e.config.minAngle+n*e.range;return"rotate("+r+") translate(0,"+(e.config.labelInset-e.r)+")"}).text(function(e){return e}),this.svg.append("circle").attr("class","needle").attr("transform",this.translation).attr("cx",0).attr("cy",0).attr("r",this.config.needleNutRadius),this.svg.append("g").attr("class","needle"),this.config.numericIndicator&&this.svg.append("text").attr("class","text-indicator").attr("transform",this.translation).attr("x",0).attr("y",100).text("0"),this._initialized=!0}},{key:"_loadConfigOnContext",value:function(e){return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_loadConfigOnContext",this).call(this,e),this.config=this.config||{},this.config.minLevel=e.minLevel||_default.Gauge.minLevel,this.config.maxLevel=e.maxLevel||_default.Gauge.maxLevel,this.config.minAngle=e.minAngle||_default.Gauge.minAngle,this.config.maxAngle=e.maxAngle||_default.Gauge.maxAngle,this.config.ticks=e.ticks||_default.Gauge.ticks,this.config.ringWidth=e.ringWidth||_default.Gauge.ringWidth,this.config.ringMargin=e.ringMargin||_default.Gauge.ringMargin,this.config.labelInset=e.labelInset||_default.Gauge.labelInset,this.config.needleNutRadius=e.needleNutRadius||_default.Gauge.needleNutRadius,this.config.needleLenghtRatio=e.needleLenghtRatio||_default.Gauge.needleLenghtRatio,this.config.invertColorScale="undefined"==typeof e.invertColorScale?_default.Gauge.invertColorScale:e.invertColorScale,this.config.numericIndicator="undefined"==typeof e.numericIndicator?_default.Gauge.numericIndicator:e.numericIndicator,this}}]),t}(SvgChart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function s(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:s(a,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},SvgSunburstStrategy=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){var t=this;this._initialized||this._initialize(),this._removePaths();var n=d3.partition(),r=d3.hierarchy(e).sum(function(e){return e.value});n(r),this.arcGen=d3.arc().startAngle(function(e){return Math.max(0,Math.min(2*Math.PI,t.x(e.x0)))}).endAngle(function(e){return Math.max(0,Math.min(2*Math.PI,t.x(e.x1)))}).innerRadius(function(e){return Math.max(0,t.y(e.y0))}).outerRadius(function(e){return Math.max(0,t.y(e.y1))});var a=this.svg.selectAll("path").data(r.descendants()).enter().append("path").attr("d",this.arcGen).style("fill",function(e){return e.parent?t.colorScale(e.data.name):"white"}),i=this.svg.append("g").attr("class","infobox").attr("pointer-events","none");i.append("text").attr("class","name").attr("x",0).attr("y",0).attr("pointer-events","none"),i.append("text").attr("class","value").attr("x",0).attr("y",0).attr("pointer-events","none"),a.on("mouseover",function(e){var n=t._getAncestors(e);n.length>0&&d3.selectAll("path").style("opacity",.3),d3.selectAll("path").filter(function(e){return n.indexOf(e)>=0}).style("opacity",1),t.svg.select(".infobox .name").text(e.data.name),t.svg.select(".infobox .value").text(e.value)}).on("mouseout",function(e){d3.selectAll("path").style("opacity",1),d3.select(".infobox .name").style("font-weight","normal"),d3.select(".infobox .name").text(""),d3.select(".infobox .value").text("")}),d3.select(self.frameElement).style("height",this.height+"px"),this._applyCSS()}},{key:"_zoom",value:function(e){var t=this;this.svg.transition().duration(450).tween("scale",function(){var n=d3.interpolate(t.x.domain(),[e.x,e.x+e.dx]),r=d3.interpolate(t.y.domain(),[e.y,1]),a=d3.interpolate(t.y.range(),[e.y?30:0,t.radius]);return function(e){t.x.domain(n(e)),t.y.domain(r(e)).range(a(e))}}).selectAll("path").attrTween("d",function(e){return function(){return t.arcGen(e)}})}},{key:"_getAncestors",value:function(e){for(var t=[],n=e;n.parent;)t.unshift(n),n=n.parent;return t}},{key:"_removePaths",value:function(){this.svg.selectAll("path").remove()}},{key:"_initialize",value:function(){var e=this.width+this.margin.left+this.margin.right,t=this.height+this.margin.left+this.margin.right;this.radius=Math.min(e,t)/2-10,this.x=d3.scaleLinear().range([0,2*Math.PI]),this.y=d3.scaleSqrt().range([0,this.radius]),this.svg=d3.select(this.selector).append("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform","translate("+e/2+","+t/2+")"),this._initialized=!0}},{key:"_loadConfigOnContext",value:function(e){return e=e||{events:{}},e.events||(e.events={}),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_loadConfigOnContext",this).call(this,e),this}}]),t}(SvgChart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Chart=function(){function e(t,n){_classCallCheck(this,e);var r=this.constructor.name;if("Chart"===r||"Basic"===r||"Flow"===r||"Temporal"===r||"Hierarchical"===r)throw new Error(r+" is non-instanciable");if(this.events={},this.reactor=new Reactor,!t&&!n)throw new Error("Missing constructor parameters");var a=t.constructor.name,i=t&&n?2:1;switch(a){case"WebsocketDatasource":this.datasource=t,this.data=[],this._configureDatasource();break;case"Array":this.data=t;break;case"Object":this.data=t;break;default:throw TypeError("Wrong data format")}this.config=1===i?_default[this.constructor.name]:n,this._initializeSVGContext()}return _createClass(e,[{key:"_getChartContext",value:function(){return{data:this.data,config:this.config,cType:this.constructor.name}}},{key:"_initializeSVGContext",value:function(){this._svg=new SvgStrategy(strategies[this.constructor.name](this._getChartContext()))}},{key:"draw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.data:arguments[0],t=this.config,n=t.sort,r=null,a=null;if(n&&(r=t.sort.field,a=t.sort.desc,e.sort(function(e,t){var n=e[r],a=t[r];return n<a?-1:n>a?1:0})),!utils.isArray(e)&&!utils.isObject(e))throw new TypeError("draw method is only allowed with static data.");e=JSON.parse(JSON.stringify(e)),this._svg.draw(e)}},{key:"toPNG",value:function(e){utils.svgAsDataUri(d3.select(this.config.selector+" svg")[0][0],{},function(t,n){if(n)throw Error("Error converting to image "+n);e(t)})}},{key:"on",value:function(e,t){if(!e||"string"!=typeof e)throw Error("eventName should be a string. Instead: "+e);if(!t||!utils.isFunction(t))throw Error("action should be a function. Instead: "+e);return this.events[e]=t,this._svg.on(this.events),this}},{key:"_configureDatasource",value:function(){var e=this;this.datasource.configure(this.reactor),this.reactor.registerEvent("onmessage"),this.reactor.registerEvent("onerror"),this.reactor.registerEvent("onopen"),this.reactor.addEventListener("onmessage",function(t){e.keepDrawing(t)}),this.reactor.addEventListener("onopen",function(e){console.debug("Connected to websocket endpoint.",e)}),this.reactor.addEventListener("onerror",function(e){console.error("An error has occured: ",e)})}},{key:"pause",value:function(){if(!this.datasource)throw"You need a datasource to pause a streaming";this.reactor.removeEventListener("onmessage")}},{key:"resume",value:function(){var e=this;if(!this.datasource)throw"You need a datasource to resume a streaming";this.reactor.addEventListener("onmessage",function(t){e.keepDrawing(t)})}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Basic=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"keepDrawing",value:function(e,t){var n=this.config,r=n.maxNumberOfElements,a=null;if(!e)return void console.warn("attemp to draw null datum");for(var i in e){a=e[i];var o=utils.findElement(this.data,"key",a.key);o&&o.values||(o={key:a.key,values:[]},this.data.push(o)),this._addByMode(o,a,t)}for(var s in this.data)for(var c=this.data[s];c.values.length>r;)c.values.splice(0,1);this.draw(this.data)}},{key:"_addByMode",value:function(e,t,n){if("add"===n)e.values=e.values.concat(t.values);else{if("replace"!==n)throw Error("Unknow keepDrawing mode:  "+n);e.values=t.values}}}]),t}(Chart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function c(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:c(a,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},Flow=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){e=JSON.parse(JSON.stringify(e)),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e)}}]),t}(Chart),Temporal=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),t}(Chart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hierarchical=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.data:arguments[0];e=JSON.parse(JSON.stringify(e)),this._svg.draw(e)}}]),t}(Chart),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function l(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:l(a,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},Barchart=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.data:arguments[0];_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e)}},{key:"fire",value:function(e,t){"transition"===e&&("grouped"===t?this._svg.strategy.transition2Grouped():"stacked"===t&&this._svg.strategy.transition2Stacked(),this._svg.strategy.draw())}},{key:"keepDrawing",value:function(e){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"keepDrawing",this).call(this,e,"replace")}}]),t}(Basic),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function u(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:u(a,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},Linechart=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.data:arguments[0];_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e)}},{key:"keepDrawing",value:function(e){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"keepDrawing",this).call(this,e,"add")}}]),t}(Basic),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:f(a,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},Streamgraph=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.data:arguments[0];_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e)}},{key:"keepDrawing",value:function(e){this.datum||(this.datum=[]),this.datum=this.datum.concat(e),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,this.datum)}}]),t}(Flow),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:h(a,t,n)}if("value"in r)return r.value;var i=r.get;
if(void 0!==i)return i.call(n)},Gauge=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.data:arguments[0];_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e)}},{key:"keepDrawing",value:function(e){this.data=[e[0]],_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}}]),t}(Basic),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sunburst=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"keepDrawing",value:function(e){this.data.constructor===Array&&(this.data={});this.config;return e?(this._buildTree(e[e.length-1].path,e[e.length-1].value,this.data),this.draw(),this.data):void console.warn("attemp to draw null datum")}},{key:"_buildTree",value:function(e,t,n){for(var r=e.split("/"),a=n,i=1;i<r.length;i++){var o,s=a.children,c=r[i];if(i+1<r.length){for(var l=!1,u=0;void 0!==s&&u<s.length;u++)if(s[u].name===c){o=s[u],l=!0;break}l||(o={name:c,children:[]},void 0===s&&(a.children=[]),delete a.value,a.children.push(o)),a=o}else o={name:c,value:t},void 0===s&&(a.children=[]),delete a.value,a.children.push(o)}}}]),t}(Hierarchical);!function(){window.ProteusFactory={create:function(e){switch(e.type){case"Linechart":return new Linechart(e.data,e.config);case"Barchart":return new Barchart(e.data,e.config);case"Gauge":return new Gauge(e.data,e.config);case"Streamgraph":return new Streamgraph(e.data,e.config);case"Sunburst":return new Sunburst(e.data,e.config);case"StackedArea":return new StackedArea(e.data,e.config);default:throw TypeError("Unknow chart type"+e.type)}}}}();
<!doctype html>
<!--[if lt IE 7]>
<html class='no-js lt-ie9 lt-ie8 lt-ie7' lang=''> <![endif]-->
<!--[if IE 7]>
<html class='no-js lt-ie9 lt-ie8' lang=''> <![endif]-->
<!--[if IE 8]>
<html class='no-js lt-ie9' lang=''> <![endif]-->
<!--[if gt IE 8]><!-->
<html class='no-js' lang=''>
<!--<![endif]-->

<head>
    <title>Components | Proteic.js</title>
   <!-- <script src="https://d3js.org/d3.v4.min.js"></script>-->
    <script src="https://rawgit.com/proteus-h2020/proteic/development/dist/proteic.js"></script>
    <script src="https://use.fontawesome.com/4286931dd8.js"></script>
    <script src="https://cdn.rawgit.com/tholman/elevator.js/master/elevator.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="./datasets.js"></script>
    <meta charset="utf-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.2.3/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/proteus-h2020/proteic/development/dist/proteic.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css">
    <style>
        .elevator-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }
    </style>
</head>

<body>

<section class="hero is-primary is-bold">
    <!-- Hero header: will stick at the top -->
    <div class="hero-head">
        <header class="nav">
            <div class="container">
                <div class="nav-left">
                    <a class="nav-item is-brand">
                        <img src="images/favicon.png" alt="Logo">
                    </a>
                    <a href="/" class="nav-item title">Proteic.js</a>
                </div>
                <div class="nav-right nav-menu">
                    <a class="nav-item" href="index.html">
                        Home
                    </a>
                    <a class="nav-item" href="catalogue.html">
                        Catalogue
                    </a>
                    <a class="nav-item is-active" href="components.html">
                        Features
                    </a>
                    <a class="nav-item" href="https://github.com/proteus-h2020/proteic/wiki">
                        Documentation
                    </a>
                    <a href="docs/" class="nav-item">
                        API docs
                    </a>
                    <a href="/bundle.html" class="nav-item">
                        Customize your bundle
                    </a>
                    <a href="https://twitter.com/proteicjs" class="nav-item">
                        <span class="icon">
                            <i class="fa fa-twitter"></i>
                        </span>
                    </a>
                    <span class="nav-item">
                    <a class="button is-primary is-inverted" href="https://github.com/proteus-h2020/proteic">
                        <span class="icon">
                        <i class="fa fa-github"></i>
                        </span>
                        <span>Source code</span>
                        </a>
                    </span>
                </div>
            </div>
        </header>
    </div>
    <div class="hero-body">
        <div class="container has-text-centered">
            <div class="colums">
                <div class="column ">
                    <h1 class="title">
                        Features
                    </h1>
                    <h2 class="subtitle">
                        Proteic visualizations are built with components that bring useful features.
                    </h2>
                </div>
            </div>
        </div>
    </div>
    <div class="hero-foot">
        <nav class="tabs">
            <div class="container">
                <ul>
                    <li><a href="#annotations">Annotations</a></li>
                    <li><a href="#annotations">Legend</a></li>
                </ul>
            </div>
        </nav>
    </div>
</section>

<section class="section">
    <h2 class="title is-2">Annotations</h2>
    <p><strong>Try double clicking the annotations to move them.</strong></p>

    <div class="columns">
        <div class="column">
            <div id='annotations-scatterplot'></div>
        </div>
        <div class="column">
            <h3 class="title is-3">Static threshold</h3>
            <div class="box">
<pre><code class="javascript">var annotationsScatterplot = new proteic.Scatterplot(data,{
    xAxisLabel:'Petal length (cm)',
    yAxisLabel:'Petal width (cm)',
    markerShape: 'star',
    legendPosition: 'bottom',
})
.annotations([
    { type: 'threshold', axis: 'y', value: 1.8, text: 'Mean width' },
    { type: 'threshold', axis: 'x', value: 2, text: 'Mean length' }
]);
annotationsScatterplot.draw();
</code></pre>
            </div>
        </div>
    </div>

    <div class="columns">
        <div class="column">
            <div id='annotations2'></div>
        </div>
        <div class="column">
            <h3 class="title is-3">Dynamic threshold</h3>
            <div class="box">
<pre><code class="javascript">var annotationsScatterplot = new proteic.Scatterplot(data,{...})
.annotations([
    { type: 'threshold', axis: 'y', variable: 'flow', text: 'current flow'}
]);
annotationsScatterplot.draw();
</code></pre>
            </div>
        </div>
    </div>

        <div class="columns">
        <div class="column">
            <div id='annotations3'></div>
            <p>Data from: Time Series Data Library (citing: Andrews & Herzberg (1985)) via <a href="https://datamarket.com/data/set/232a/half-hourly-precipitation-and-stream-flow-river-hirnant-wales-uk-november-and-december-1972#!ds=232a!2eqz&display=line">DataMarket</a>*</p>
            <p><em>* Error data has been faked for demonstration purposes.</em></p>
        </div>
        <div class="column">
            <h3 class="title is-3">Dynamic error band</h3>
            <div class="box">
<pre><code class="javascript">var annotationsScatterplot = new proteic.Scatterplot(data,{...})
.annotations([
    { type: 'threshold', axis: 'y', variable: 'flow', text: 'current flow'},
    { type: 'band', axis: 'y', variable: 'flow', 'width': 'flowError', text: 'error'}
])
annotationsScatterplot.draw();
</code></pre>
            </div>
        </div>
    </div>

</section>

<section class="section">
    <h2 class="title is-2">Legend</h2>
    <p>The legend position can be customised.</p>
    <div class="columns">
        <div class="column">
            <div id='legend1'></div>
            <div class="box"><pre><code class="javascript">legendPosition: right</code></pre></div>
        </div>
        <div class="column">
            <div id='legend2'></div>
            <div class="box"><pre><code class="javascript">legendPosition: bottom</code></pre></div>
        </div>
        <div class="column">
            <div id='legend3'></div>
            <div class="box"><pre><code class="javascript">legendPosition: top</code></pre></div>
        </div>
    </div>
</section>


<a class="button is-small elevator-button">
    <span class="icon is-small">
        <i class="fa fa-chevron-up"></i>
    </span>
    <span>Top</span>
</a>

<footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <div class="image is-96x96 is-flex" style="align-items: center; margin: auto; display: flex;">
                <img src="images/eu-flag.jpg" alt="">
            </div>
            <p style="font-family: Calibri, sans-serif">This project is funded by the European Union.</p>
            <p style="font-family: Calibri, sans-serif">(Horizon 2020, Ref: 687691)</p>
            <p style="font-family: Calibri, sans-serif"> Streaming data from: Time Series Data Library (citing: Andrews & Herzberg (1985)) via <a href="https://datamarket.com/data/set/232a/half-hourly-precipitation-and-stream-flow-river-hirnant-wales-uk-november-and-december-1972#!ds=232a!2eqz&display=line">DataMarket</a>*</p>
            <a class="icon" href="https://github.com/proteus-h2020/">
                <i class="fa fa-github"></i>
            </a>
        </div>
    </div>
</footer>

<script>
    hljs.initHighlightingOnLoad();
</script>

<script>

    let margins = {
        top: 20,
        left: 70,
        bottom: 100,
        right: 20
    };

    var wsLinechart = new WebSocket('wss://proteicws.herokuapp.com/rain');
    var dsLinechart = new proteic.WebsocketDatasource(wsLinechart);
    dsLinechart.start();

    new proteic.Linechart([], {
        selector: '#annotations2',
        height: 200,
        width: '100%',
        legendPosition: 'bottom',
        marginTop: margins.top,
        marginRight: margins.right + 75,
        marginBottom: margins.bottom,
        marginLeft: margins.left,
        yAxisLabel: 'Amount',
        xTicksTextRotation: -65,
        propertyX: 'time',
        propertyY: 'value',
        propertyKey: 'key',
        xAxisType: 'time',
        xAxisFormat: '%Y-%m-%d %H:%M:%S',
        maxNumberOfElements: 5855,
        // 1972-12-31 19:30:00
    })
    .annotations([
        { type: 'threshold', axis: 'y', variable: 'flow', text: 'current flow'}
    ])
    .unpivot(['rain', 'flow'])
    .datasource(dsLinechart);

    new proteic.Linechart([], {
        selector: '#annotations3',
        height: 200,
        width: '100%',
        legendPosition: 'bottom',
        marginTop: margins.top,
        marginRight: margins.right + 75,
        marginBottom: margins.bottom,
        marginLeft: margins.left,
        yAxisLabel: 'Amount',
        xTicksTextRotation: -65,
        propertyX: 'time',
        propertyY: 'value',
        propertyKey: 'key',
        xAxisType: 'time',
        xAxisFormat: '%Y-%m-%d %H:%M:%S',
        maxNumberOfElements: 5855,
        // 1972-12-31 19:30:00
    })
    .annotations([
        { type: 'threshold', axis: 'y', variable: 'flow', text: 'current flow'},
        { type: 'band', axis: 'y', variable: 'flow', 'width': 'flowError', text: 'error'}
    ])
    .unpivot(['rain', 'flow'])
    .datasource(dsLinechart);

    var annotationsScatterplot = new proteic.Scatterplot(iris,{
        selector: '#annotations-scatterplot',
		xAxisLabel:'Petal length (cm)',
		propertyX: 'petalLength',
		yAxisLabel:'Petal width (cm)',
		propertyY: 'petalWidth',
		markerShape: 'star',
		propertyKey: 'species',
        legendPosition: 'bottom',
        marginTop: margins.top,
        marginRight: margins.right + 80,
        marginBottom: margins.bottom,
        marginLeft: margins.left
	}).annotations([
		{ type: 'threshold', axis: 'y', value: 1.8, text: 'Mean width' },
		{ type: 'threshold', axis: 'x', value: 2, text: 'Mean length' }
	]);
    annotationsScatterplot.draw();

    var legend1 = new proteic.Scatterplot(iris,{
        selector: '#legend1',
		xAxisLabel:'Petal length (cm)',
		propertyX: 'petalLength',
		yAxisLabel:'Petal width (cm)',
		propertyY: 'petalWidth',
		markerShape: 'ring',
		propertyKey: 'species',
        legendPosition: 'right',
        marginTop: margins.top+ 25,
        marginRight: margins.right + 80,
        marginBottom: margins.bottom,
        marginLeft: margins.left
	});
    legend1.draw();

    var legend2 = new proteic.Scatterplot(iris,{
        selector: '#legend2',
		xAxisLabel:'Petal length (cm)',
		propertyX: 'petalLength',
		yAxisLabel:'Petal width (cm)',
		propertyY: 'petalWidth',
		markerShape: 'ring',
		propertyKey: 'species',
        legendPosition: 'bottom',
        marginTop: margins.top+ 25,
        marginRight: margins.right + 80,
        marginBottom: margins.bottom,
        marginLeft: margins.left
	});
    legend2.draw();

    var legend3 = new proteic.Scatterplot(iris,{
        selector: '#legend3',
		xAxisLabel:'Petal length (cm)',
		propertyX: 'petalLength',
		yAxisLabel:'Petal width (cm)',
		propertyY: 'petalWidth',
		markerShape: 'ring',
		propertyKey: 'species',
        legendPosition: 'top',
        marginTop: margins.top+ 25,
        marginRight: margins.right + 80,
        marginBottom: margins.bottom,
        marginLeft: margins.left
	});
    legend3.draw();


</script>
<script>
  // Elevator script included on the page, already.

  window.onload = function() {
    var elevator = new Elevator({
      element: document.querySelector('.elevator-button'),
      duration: 1000 // milliseconds
    });
  }
</script>
</body>

</html>
